/* --- Estilos Base y Variables --- */
:root {
    --primary-color: #0066cc; --secondary-color: #0052a3; --accent-color: #ffc107;
    --text-color: #333; --light-gray: #f4f6f9; --medium-gray: #ced4da; --dark-gray: #343a40;
    --danger-color: #dc3545; --success-color: #28a745; --info-color: #17a2b8; --white-color: #fff;
    --border-radius: 8px; --transition-speed: 0.3s; --transition-speed-fast: 0.2s; --transition-speed-slow: 0.5s; --header-height: 70px;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; font-size: 16px; }
body { background-color: var(--light-gray); color: var(--text-color); font-family: 'Segoe UI', Tahoma, Verdana, sans-serif; line-height: 1.6; display: flex; flex-direction: column; min-height: 100vh; overflow-x: hidden; /* Prevenir scroll horizontal por animaciones */}
main { flex-grow: 1; }
a { text-decoration: none; color: var(--primary-color); transition: color var(--transition-speed) ease; }
a:hover { color: var(--secondary-color); }
img { max-width: 100%; height: auto; display: block; }
button { cursor: pointer; border: none; background: none; font-family: inherit; transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; /* Transición base para botones */ }
ul { list-style: none; }
.container { max-width: 1200px; margin: 0 auto; padding: 0 15px; }
.section-padding { padding: 40px 0; }
.section-title { text-align: center; font-size: 1.8em; color: var(--dark-gray); margin-bottom: 30px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease, transform 0.6s ease; }
.section-title.is-visible { opacity: 1; transform: translateY(0); } /* Animación título */

/* --- Accesibilidad --- */
*:focus-visible { outline: 3px solid var(--primary-color); outline-offset: 2px; border-radius: 3px; }
.visually-hidden { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }

/* --- Keyframes para Animaciones --- */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes zoomIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
@keyframes zoomOut { from { opacity: 1; transform: scale(1); } to { opacity: 0; transform: scale(0.9); } }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
@keyframes bounceInUp { from, 60%, 75%, 90%, to { animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1); } from { opacity: 0; transform: translate3d(0, 100px, 0); } 60% { opacity: 1; transform: translate3d(0, -20px, 0); } 75% { transform: translate3d(0, 10px, 0); } 90% { transform: translate3d(0, -5px, 0); } to { transform: translate3d(0, 0, 0); } }
@keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
@keyframes slideOutRight { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } }

/* --- Animaciones Generales y Helpers --- */
.animated { animation-duration: 0.6s; animation-fill-mode: both; }
.animated.faster { animation-duration: 0.3s; }
.animated.fadeIn { animation-name: fadeIn; }
.animated.fadeInUp { animation-name: fadeInUp; }
.animated.fadeInDown { animation-name: fadeInDown; }
.animated.zoomIn { animation-name: zoomIn; }
.animated.zoomOut { animation-name: zoomOut; }
.animated.pulse { animation-name: pulse; animation-iteration-count: infinite; animation-duration: 1s; }
.animated.bounceInUp { animation-name: bounceInUp; }
.animate-on-scroll { opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
.animate-on-scroll.is-visible { opacity: 1; transform: translateY(0); }

/* --- Header --- */
.top-bar { background-color: var(--secondary-color); color: var(--white-color); padding: 5px 15px; text-align: right; font-size: 0.85em; animation: fadeInDown 0.5s ease-out; }
.top-bar a { color: #e0e0e0; margin: 0 8px; transition: color var(--transition-speed-fast) ease; } .top-bar a:hover { color: var(--white-color); }
.main-header { background-color: var(--white-color); padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; box-shadow: 0 2px 4px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; min-height: var(--header-height); transition: box-shadow var(--transition-speed) ease; }
.main-header.scrolled { box-shadow: 0 4px 12px rgba(0,0,0,0.1); } /* Efecto al hacer scroll */
.logo { font-size: 1.5em; font-weight: bold; color: var(--primary-color); transition: transform var(--transition-speed) ease; display: flex; align-items: center;}
.logo:hover { transform: scale(1.05); }
.search-container { display: flex; flex-grow: 1; max-width: 600px; margin: 5px 15px; }
.search-container select, .search-container input[type="search"] { padding: 10px 12px; border: 1px solid var(--medium-gray); font-size: 0.95em; height: 42px; transition: border-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease; }
.search-container input[type="search"]:focus, .search-container select:focus { border-color: var(--primary-color); box-shadow: 0 0 0 2px rgba(0, 102, 204, 0.2); }
.search-container select { border-radius: 5px 0 0 5px; background-color: #e9ecef; max-width: 150px; cursor: pointer; }
.search-container input[type="search"] { flex-grow: 1; border-left: none; border-right: none; min-width: 150px;}
.search-btn { background-color: var(--primary-color); color: var(--white-color); border: 1px solid var(--primary-color); padding: 0 18px; border-radius: 0 5px 5px 0; transition: background-color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; font-size: 1em; }
.search-btn:hover { background-color: var(--secondary-color); transform: scale(1.05); }
.header-actions { display: flex; align-items: center; position: relative; }
.header-actions .action-btn { margin-left: 25px; color: var(--dark-gray); font-size: 1.6em; padding: 5px; transition: color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; }
.header-actions .action-btn:hover { color: var(--primary-color); transform: scale(1.1); }
.cart-icon-wrapper { position: relative; }
.cart-icon-wrapper .cart-count { position: absolute; top: -5px; right: -10px; background-color: var(--danger-color); color: var(--white-color); border-radius: 50%; padding: 1px 5px; font-size: 0.7em; font-weight: bold; border: 1px solid var(--white-color); min-width: 18px; text-align: center; transition: transform 0.2s ease-out; }
.cart-count.updated { animation: pulse 0.5s ease-out; } /* Animación al actualizar contador */

/* --- Navegación Principal --- */
.main-nav { background-color: var(--primary-color); box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: background-color var(--transition-speed) ease; }
.main-nav .container { padding: 0; }
/* --- Modified main-menu for scrollbar removal --- */
.main-menu {
    display: flex;
    padding: 0 10px;
    flex-wrap: wrap; /* Allow items to wrap to the next line */
    /* Removed: overflow-x: auto; white-space: nowrap; */
}
.main-menu > li { position: relative; }
.main-menu > li > a { color: var(--white-color); padding: 14px 18px; display: block; font-weight: 500; border-right: 1px solid rgba(255,255,255,0.15); font-size: 0.95em; transition: background-color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; position: relative; overflow: hidden; }
.main-menu > li:last-child > a { border-right: none; } /* Remove border on last item */
.main-menu > li > a::before { /* Efecto hover sutil */ content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 3px; background-color: var(--accent-color); transform: translateX(-101%); transition: transform var(--transition-speed) ease; }
.main-menu > li > a:hover::before,
.main-menu > li:hover > a::before { transform: translateX(0); }
.main-menu > li > a:hover,
.main-menu > li:hover > a { background-color: var(--secondary-color); }
.main-menu .has-submenu > a::after { content: ' ▼'; font-size: 0.7em; margin-left: 5px; display: inline-block; transition: transform var(--transition-speed) ease; }
.main-menu > li:hover > a::after { transform: rotate(180deg); }

/* --- Submenu Desplegable con Animación --- */
.submenu {
    position: absolute; left: 0; top: 100%; background-color: var(--white-color); min-width: 260px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15); z-index: 1001; border-radius: 0 0 5px 5px; border: 1px solid #ddd; border-top: none;
    opacity: 0; visibility: hidden; transform: translateY(10px) scaleY(0.95); transform-origin: top center;
    transition: opacity var(--transition-speed) ease, transform var(--transition-speed) ease, visibility 0s var(--transition-speed);
}
.main-menu > li:hover .submenu {
    opacity: 1; visibility: visible; transform: translateY(0) scaleY(1);
    transition: opacity var(--transition-speed) ease, transform var(--transition-speed) ease, visibility 0s 0s;
}
.submenu li a { color: var(--text-color); padding: 12px 20px; display: block; border-bottom: 1px solid #eee; white-space: normal; font-size: 0.9em; transition: background-color var(--transition-speed) ease, padding-left var(--transition-speed) ease; }
.submenu li a:hover { background-color: #f1f1f1; padding-left: 25px; }
.submenu li:last-child a { border-bottom: none; }

/* --- Carrusel Promocional --- */
.promo-carousel { background-color: #eee; position: relative; overflow: hidden; width: 100%; height: 440px; margin-bottom: 30px; }
.promo-carousel-inner { display: flex; height: 100%; }
.promo-carousel-slide { flex: 0 0 100%; height: 100%; opacity: 0; transition: opacity 0.6s ease; position: absolute; top: 0; left: 0; width: 100%; display: flex; align-items: center; justify-content: center; }
.promo-carousel-slide.active { opacity: 1; z-index: 1; }
.promo-carousel-slide img { width: auto; height: 100%; object-fit: contain; display: block; }
.carousel-control { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0, 0, 0, 0.45); border-radius: 50%; width: 45px; height: 45px; display: flex; justify-content: center; align-items: center; font-size: 24px; color: var(--white-color); z-index: 10; opacity: 0.7; transition: opacity var(--transition-speed) ease, background-color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; min-width: 44px; min-height: 44px; }
.carousel-control:hover { opacity: 1; background-color: rgba(0, 0, 0, 0.6); transform: translateY(-50%) scale(1.1); }
.carousel-prev { left: 15px; } .carousel-next { right: 15px; }
.carousel-dots { position: absolute; bottom: 15px; left: 0; right: 0; text-align: center; z-index: 5; }
.carousel-dots button { display: inline-block; width: 12px; height: 12px; background-color: rgba(255, 255, 255, 0.6); border-radius: 50%; margin: 0 5px; border: 1px solid rgba(0,0,0,0.2); transition: all 0.3s ease; padding: 0; }
.carousel-dots button:hover { transform: scale(1.2); }
.carousel-dots button.active { background-color: var(--primary-color); border-color: var(--secondary-color); transform: scale(1.1); }


/* --- Navegación Rápida por Categorías --- */
.category-nav-section { background-color: var(--white-color); padding: 15px 0; margin-bottom: 30px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.category-nav { display: flex; overflow-x: auto; padding: 5px 10px; justify-content: center; }
.category-nav button { background-color: #e9ecef; border: 1px solid var(--medium-gray); padding: 10px 20px; margin: 0 5px; color: #495057; white-space: nowrap; border-radius: 20px; transition: all var(--transition-speed) ease, transform var(--transition-speed-fast) ease; font-size: 0.9em; min-height: 44px; }
.category-nav button:hover { background-color: var(--primary-color); color: var(--white-color); transform: translateY(-2px); }
.category-nav button i { margin-right: 6px; } .category-nav button.active { background-color: var(--secondary-color); color: var(--white-color); border-color: #004085; box-shadow: 0 2px 5px rgba(0, 82, 163, 0.3); }

/* --- Productos (Grid y Tarjeta) --- */
.product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(210px, 1fr)); gap: 25px; }
.product-card { background-color: var(--white-color); border-radius: var(--border-radius); overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.07); transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease, opacity 0.3s ease; display: flex; flex-direction: column; border: 1px solid #e9ecef; position: relative; }
/* --- Styling for hidden cards (used by JS filter/search) --- */
.product-card.hidden {
    opacity: 0;
    transform: scale(0.95);
    pointer-events: none;
    height: 0; /* Collapse space */
    margin: 0; /* Collapse space */
    padding: 0; /* Collapse space */
    border: none; /* Collapse space */
    overflow: hidden; /* Ensure content is clipped */
    /* Use 'display: none;' if animations aren't crucial and complete hiding is needed */
    /* display: none; */
}
.product-card:not(.hidden) { animation: fadeIn 0.4s ease-out; /* Fade in visible items */}
.product-card:hover:not(.hidden) { transform: translateY(-5px) scale(1.02); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
.product-card .product-image-link { display: block; padding: 15px; height: 190px; display: flex; justify-content: center; align-items: center; border-bottom: 1px solid #eee; position: relative; overflow: hidden; }
.product-card img { max-height: 100%; object-fit: contain; transition: transform var(--transition-speed-slow) ease; }
.product-card:hover img { transform: scale(1.05); }
.product-card-info { padding: 15px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
.product-title { font-weight: 600; margin-bottom: 5px; font-size: 1em; line-height: 1.3; min-height: 3.9em; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 3; line-clamp: 3; -webkit-box-orient: vertical; }
.product-title a { color: var(--dark-gray); transition: color var(--transition-speed) ease; } .product-title a:hover { color: var(--primary-color); }
.product-subtitle { font-size: 0.85em; color: #6c757d; margin-bottom: 10px; min-height: 3em; line-height: 1.4; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical;}
.product-price-container { margin-top: 10px; }
.product-price { color: var(--primary-color); font-weight: bold; font-size: 1.3em; }
.old-price { text-decoration: line-through; color: #adb5bd; font-size: 0.9em; margin-left: 8px; }
.product-actions { margin-top: 12px; display: flex; flex-direction: column; gap: 8px;}
.product-actions .action-button { background-color: var(--primary-color); color: var(--white-color); border: none; padding: 10px 15px; border-radius: 20px; font-weight: bold; width: 100%; font-size: 0.9em; transition: all var(--transition-speed) ease, transform var(--transition-speed-fast) ease; min-height: 40px; position: relative; overflow: hidden; z-index: 1; }
.product-actions .action-button::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(255, 255, 255, 0.2); transform: scaleX(0); transform-origin: left; transition: transform 0.4s ease; z-index: -1; border-radius: 20px; }
.product-actions .action-button:hover::after { transform: scaleX(1); }
.product-actions .action-button:hover { background-color: var(--secondary-color); }
.product-actions .action-button:active { transform: scale(0.97); }
.product-actions .action-button.added { background-color: var(--success-color); animation: pulse 0.5s 1; }
.product-actions .view-details-btn { background-color: #f0f0f0; color: var(--text-color); }
.product-actions .view-details-btn:hover { background-color: #e0e0e0; }
.product-actions .reserve-btn { background-color: var(--accent-color); color: var(--text-color); }
.product-actions .reserve-btn:hover { background-color: #e0a800; }

/* Etiquetas (Badges) con animación */
.badge { position: absolute; top: 10px; left: 10px; color: var(--white-color); padding: 4px 8px; border-radius: 4px; font-size: 0.75em; font-weight: bold; z-index: 2; line-height: 1.2; animation: fadeIn 0.5s ease-out; transform-origin: top left; }
.badge.offer-tag { background-color: var(--danger-color); } .badge.new-badge { background-color: var(--info-color); }
.badge.service-badge { background-color: var(--accent-color); color: var(--text-color); } .badge.gamer-badge { background-color: #6f42c1; }

/* --- Countdown Section --- */
.sale-countdown-section { background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); color: var(--white-color); padding: 25px; text-align: center; margin: 40px 0; border-radius: var(--border-radius); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.sale-countdown-section h3 { font-size: 1.4em; margin-bottom: 15px; font-weight: 600; }
.countdown-timer { display: flex; justify-content: center; align-items: baseline; gap: 10px; font-weight: bold; }
.time-block { background-color: rgba(255,255,255,0.95); color: var(--secondary-color); padding: 10px 15px; border-radius: 5px; min-width: 60px; font-size: 1.2em; text-align: center; transition: transform 0.3s ease; }
.time-block:hover { transform: scale(1.05); }
.time-block span.time-value { display: block; font-size: 1.5em; line-height: 1.1; transition: color 0.5s ease; }
.time-label { font-size: 0.7em; color: var(--secondary-color); text-transform: uppercase; margin-top: 2px; opacity: 0.8;}

/* --- Servicios --- */
.services-section { background-color: var(--white-color); padding: 40px 0; margin: 40px 0; border-top: 1px solid #eee; border-bottom: 1px solid #eee; overflow: hidden; }
.services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 25px; margin-top: 25px; }
.service-card { background-color: #f8f9fa; border-radius: var(--border-radius); padding: 30px 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.06); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease; border: 1px solid #e9ecef; }
.service-card:hover { transform: translateY(-6px) scale(1.03); box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
.service-icon { font-size: 40px; color: var(--primary-color); margin-bottom: 15px; line-height: 1; transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55); }
.service-card:hover .service-icon { transform: rotateY(360deg); }
.service-title { font-weight: 600; margin-bottom: 12px; color: var(--dark-gray); font-size: 1.1em; }
.service-desc { color: #555; font-size: 0.9em; line-height: 1.5; }

/* --- Marcas --- */
.brands-section { padding: 40px 0; background-color: #f8f9fa; margin: 40px 0; border-top: 1px solid #eee; border-bottom: 1px solid #eee; overflow: hidden; }
.brands-section .section-title { margin-bottom: 30px; }
.brand-logos { display: flex; justify-content: center; flex-wrap: wrap; gap: 30px; align-items: center;}
.brand-logo-item { width: 140px; height: 90px; display: flex; align-items: center; justify-content: center; background-color: var(--white-color); border-radius: 5px; padding: 10px; transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease, filter var(--transition-speed) ease; border: 1px solid #eee; filter: grayscale(80%); }
.brand-logo-item:hover { transform: scale(1.08) rotate(2deg); box-shadow: 0 4px 10px rgba(0,0,0,0.1); filter: grayscale(0%); }
.brand-logo-item img { max-width: 100%; max-height: 65px; object-fit: contain; }

/* --- Footer --- */
.main-footer { background-color: var(--dark-gray); color: var(--medium-gray); padding: 50px 0 20px 0; font-size: 0.95em; margin-top: auto; }
.footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 30px; margin-bottom: 40px; }
.footer-column h3 { margin-bottom: 20px; color: var(--white-color); font-size: 1.2em; font-weight: 600; border-bottom: 1px solid #495057; padding-bottom: 10px; position: relative; }
.footer-column h3::after { content: ''; position: absolute; left: 0; bottom: -1px; height: 2px; width: 50px; background-color: var(--primary-color); transition: width 0.4s ease; }
.footer-column:hover h3::after { width: 80px; }
.footer-menu li { margin-bottom: 12px; transition: transform var(--transition-speed-fast) ease; }
.footer-menu li:hover { transform: translateX(5px); }
.footer-menu a { color: var(--medium-gray); transition: color var(--transition-speed) ease; } .footer-menu a:hover { color: var(--white-color); }
.footer-column address { font-style: normal; line-height: 1.8; }
.social-icons { display: flex; gap: 18px; margin-top: 20px; }
.social-icons a { color: var(--medium-gray); font-size: 24px; transition: color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; } .social-icons a:hover { color: var(--info-color); transform: translateY(-3px) scale(1.1); }
.footer-bottom { text-align: center; padding-top: 30px; border-top: 1px solid #495057; color: #adb5bd; font-size: 0.9em; }

/* --- Modal Producto --- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); z-index: 1010; display: flex; justify-content: center; align-items: center; padding: 20px; overflow-y: auto; opacity: 0; visibility: hidden; transition: opacity var(--transition-speed-slow) ease, visibility 0s var(--transition-speed-slow); }
.modal-overlay.visible { opacity: 1; visibility: visible; transition: opacity var(--transition-speed-slow) ease, visibility 0s 0s; }
.modal-content { background-color: var(--white-color); width: 90%; max-width: 850px; border-radius: 10px; display: grid; grid-template-columns: 45% 55%; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.2); max-height: 90vh; transform: scale(1); transition: transform var(--transition-speed) ease, opacity var(--transition-speed) ease; /* Use faster transition */ opacity: 1; }
/* Animation classes control entry/exit */
.modal-content.animated.zoomIn { animation-name: zoomIn; animation-duration: var(--transition-speed-fast); }
.modal-content.animated.zoomOut { animation-name: zoomOut; animation-duration: var(--transition-speed-fast); }
/* Initially hide content if using animations */
.modal-overlay:not(.visible) .modal-content { opacity: 0; transform: scale(0.9); }

.modal-close-btn { position: absolute; top: 8px; right: 8px; font-size: 28px; color: #999; z-index: 10; line-height: 1; padding: 8px; transition: color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; min-width: 44px; min-height: 44px; background: transparent; border: none;}
.modal-close-btn:hover { color: var(--text-color); transform: rotate(90deg); }
.modal-left, .modal-right { padding: 25px; overflow-y: auto; max-height: calc(90vh - 50px); }
.modal-right { border-left: 1px solid #eee; background-color: #fdfdfd;}
.modal-images { display: flex; flex-direction: column; align-items: center; }
.modal-main-img-container { width: 100%; height: 280px; margin-bottom: 15px; display: flex; justify-content: center; align-items: center; border: 1px solid #eee; border-radius: 5px; overflow: hidden; }
.modal-main-img-container img { max-height: 100%; object-fit: contain; transition: transform 0.4s ease, opacity 0.4s ease; }
.modal-main-img-container img.loading { opacity: 0.5; transform: scale(0.95); }
.modal-thumbnails { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; list-style: none; padding: 0;}
.modal-thumbnail button { width: 60px; height: 60px; border: 2px solid #eee; cursor: pointer; border-radius: 4px; opacity: 0.7; transition: opacity var(--transition-speed) ease, border-color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; padding: 2px; background-color: var(--white-color); overflow: hidden; }
.modal-thumbnail img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
.modal-thumbnail button:hover { opacity: 1; transform: scale(1.05); } .modal-thumbnail button.active { border-color: var(--primary-color); opacity: 1; transform: scale(1.05); box-shadow: 0 0 5px rgba(0, 102, 204, 0.5); }
.modal-thumbnail button:hover img { transform: scale(1.1); }
.modal-title { font-size: 1.5em; margin-bottom: 12px; color: var(--text-color); line-height: 1.3; font-weight: 600; }
.modal-price-container { display: flex; align-items: baseline; gap: 10px; margin-bottom: 18px; }
.modal-price { font-size: 1.7em; font-weight: bold; color: var(--primary-color); }
.modal-old-price { text-decoration: line-through; color: #999; font-size: 1.1em; }
.modal-old-price.hidden { display: none; }
.modal-description { margin-bottom: 20px; line-height: 1.6; color: #555; font-size: 0.95em; }
.modal-specs h3 { margin-bottom: 12px; color: #444; font-size: 1.1em; border-bottom: 1px solid #eee; padding-bottom: 5px;}
.modal-specs ul { list-style: disc; padding-left: 20px; }
.spec-item { margin-bottom: 8px; font-size: 0.9em; }
.spec-item strong { color: #555; }
.modal-quantity { display: flex; align-items: center; margin: 25px 0; }
.quantity-label { margin-right: 15px; font-weight: 600; font-size: 1em; color: #444;}
.quantity-control { display: flex; align-items: center; border: 1px solid #ccc; border-radius: 5px; overflow: hidden; }
.quantity-btn { width: 36px; height: 36px; background-color: #f5f5f5; font-size: 1.3em; color: #666; transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease; min-width: 40px; min-height: 40px;}
.quantity-btn:hover { background-color: #e0e0e0; color: var(--text-color); }
.quantity-btn:active { background-color: #d5d5d5; }
.quantity-input { width: 50px; height: 36px; border: none; text-align: center; font-size: 1.1em; appearance: none; margin: 0; font-weight: 600; color: var(--text-color); border-left: 1px solid #ccc; border-right: 1px solid #ccc;}
.modal-actions { display: flex; gap: 15px; margin-top: 10px; }
.modal-action-btn { flex: 1; padding: 12px; border: none; border-radius: 5px; font-weight: bold; font-size: 0.95em; text-align: center; transition: all var(--transition-speed) ease, transform var(--transition-speed-fast) ease; min-height: 42px; }
.modal-add-to-cart-btn { background-color: var(--primary-color); color: var(--white-color); }
.modal-buy-now-btn { background-color: var(--success-color); color: var(--white-color); }
.modal-add-to-cart-btn:hover { background-color: var(--secondary-color); }
.modal-buy-now-btn:hover { background-color: #218838; }
.modal-action-btn:active { transform: scale(0.98); }
.modal-add-to-cart-btn.added { background-color: var(--success-color); animation: pulse 0.5s 1; }

/* --- Carrito Dropdown --- */
.cart-dropdown { position: absolute; top: calc(100% + 5px); right: 0; background-color: var(--white-color); width: 360px; box-shadow: 0 8px 25px rgba(0,0,0,0.15); border-radius: var(--border-radius); z-index: 1005; border: 1px solid #e0e0e0; opacity: 0; visibility: hidden; transform: translateY(10px) scale(0.98); transform-origin: top right; transition: opacity var(--transition-speed-fast) ease, transform var(--transition-speed-fast) ease, visibility 0s var(--transition-speed-fast); }
.cart-dropdown.visible { opacity: 1; visibility: visible; transform: translateY(0) scale(1); transition: opacity var(--transition-speed-fast) ease, transform var(--transition-speed-fast) ease, visibility 0s 0s; }
.cart-header { padding: 15px 20px; border-bottom: 1px solid #e0e0e0; font-weight: 600; font-size: 1.1em; background-color: #f8f9fa; display: flex; justify-content: space-between; align-items: center;}
.cart-items { max-height: 350px; overflow-y: auto; padding: 5px 0;}
.cart-item { display: grid; grid-template-columns: auto 1fr auto auto; align-items: center; padding: 12px 15px; border-bottom: 1px solid #f1f1f1; gap: 10px; transition: background-color var(--transition-speed-fast) ease; }
.cart-item:last-child { border-bottom: none; }
.cart-item:hover { background-color: #f9f9f9; }
.cart-item-img { width: 50px; height: 50px; object-fit: contain; border: 1px solid #eee; border-radius: 4px; grid-column: 1; grid-row: 1 / span 2; transition: transform 0.3s ease; }
.cart-item:hover .cart-item-img { transform: scale(1.1); }
.cart-item-details { grid-column: 2; grid-row: 1 / span 2; padding-right: 5px;}
.cart-item-title { font-weight: 600; font-size: 0.9em; line-height: 1.3; margin-bottom: 3px; }
.cart-item-price { color: #555; font-size: 0.85em; }
.cart-item-quantity { color: var(--primary-color); font-size: 0.85em; margin-top: 4px; font-weight: 500; }
.cart-item-subtotal { font-weight: bold; text-align:right; font-size: 0.9em; color: var(--text-color); grid-column: 3; grid-row: 1; white-space: nowrap;}
.cart-item-remove { color: var(--danger-color); font-size: 1.3em; padding: 5px; line-height: 1; transition: color var(--transition-speed) ease, transform var(--transition-speed-fast) ease; grid-column: 4; grid-row: 1 / span 2; align-self: center; margin-left: 5px; min-width: 40px; min-height: 40px; background: transparent; border: none; }
.cart-item-remove:hover { color: #a71d2a; transform: scale(1.2); }
.cart-footer { padding: 15px 20px; border-top: 1px solid #e0e0e0; background-color: #f8f9fa; }
.cart-total { display: flex; justify-content: space-between; margin-bottom: 15px; font-weight: bold; font-size: 1.1em; }
.checkout-btn { width: 100%; padding: 12px; background: linear-gradient(45deg, var(--success-color), #218838); color: var(--white-color); border-radius: 5px; font-weight: bold; font-size: 1em; text-align: center; transition: background 0.3s ease, transform 0.1s ease, box-shadow 0.3s ease; border: none;}
.checkout-btn:hover:not(:disabled) { background: linear-gradient(45deg, #218838, var(--success-color)); box-shadow: 0 4px 10px rgba(40, 167, 69, 0.4); transform: translateY(-2px); }
.checkout-btn:active:not(:disabled) { transform: translateY(0) scale(0.98); box-shadow: none; }
.checkout-btn:disabled { background: #aaa; cursor: not-allowed; box-shadow: none; transform: none; }
.empty-cart-message { text-align: center; padding: 30px 20px; color: #888; font-style: italic; }

/* --- Botones Flotantes --- */
.whatsapp-float { position: fixed; bottom: 20px; right: 20px; background-color: #25D366; color: var(--white-color); width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 998; transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease; animation: bounceInUp 0.8s ease-out; }
.whatsapp-float:hover { transform: scale(1.1); box-shadow: 0 6px 16px rgba(37, 211, 102, 0.4); }

/* --- Notificaciones --- */
.notification-container { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 1050; display: flex; flex-direction: column; align-items: center; gap: 10px; pointer-events: none; }
.notification { background-color: rgba(0, 0, 0, 0.85); color: var(--white-color); padding: 12px 22px; border-radius: 5px; opacity: 0; transition: opacity 0.4s ease, transform 0.4s ease; font-size: 0.9em; box-shadow: 0 3px 8px rgba(0,0,0,0.2); transform: translateY(10px) scale(0.95); pointer-events: all; }
.notification.visible { opacity: 1; transform: translateY(0) scale(1); }

/* --- Barra Filtro/Ordenamiento Productos --- */
.product-filter-sort-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 10px; background-color: var(--white-color); border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); flex-wrap: wrap; gap: 10px; }
#product-count-display { color: #555; font-size: 0.95em; }
.sort-controls label { margin-right: 8px; font-weight: 500; font-size: 0.9em; color: #444;}
.sort-controls select { padding: 6px 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 0.9em; background-color: var(--white-color); cursor: pointer; }

/* --- Media Queries --- */
@media screen and (max-width: 992px) {
    .product-grid { grid-template-columns: repeat(auto-fill, minmax(190px, 1fr)); gap: 20px; }
    .modal-content { grid-template-columns: 40% 60%; max-width: 90%;}
    .main-menu > li > a { padding: 12px 15px; font-size: 0.9em; }
    .submenu { min-width: 220px; }
}
@media screen and (max-width: 768px) {
    .main-header { padding: 10px; transition: padding var(--transition-speed) ease; }
    .main-header.scrolled { padding: 5px 10px; }
    .logo { font-size: 1.3em; }
    .search-container { order: 3; width: 100%; margin: 10px 0 0 0; }
    .header-actions { order: 2; }
    /* Keep main-nav visible but allow wrap */
    /* .main-nav { display: none; } */
    .main-nav .container { padding: 0 5px; } /* Add padding for wrapped items */
    .main-menu { justify-content: center; } /* Center wrapped items */
    .main-menu > li > a { padding: 10px 12px; font-size: 0.9em; }
    .modal-content { display: flex; flex-direction: column; width: 90%; max-height: 85vh; }
    .modal-left, .modal-right { width: 100%; max-height: 70vh; padding: 15px; }
    .modal-right { border-left: none; border-top: 1px solid #eee;}
    .modal-main-img-container { height: 200px; }
    .product-filter-sort-bar { flex-direction: column; align-items: flex-start; }
}
@media screen and (max-width: 576px) {
     html { font-size: 15px; }
     .logo { font-size: 1.2em; text-align: center; width: auto; margin-bottom: 0;}
     .main-header { justify-content: space-between; }
     .header-actions { width: auto; justify-content: flex-end; margin: 0;}
     .product-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
     .product-title { font-size: 0.9em; min-height: auto; -webkit-line-clamp: 2; line-clamp: 2; }
     .product-subtitle { font-size: 0.8em; min-height: auto; -webkit-line-clamp: 2; line-clamp: 2;}
     .product-price { font-size: 1.1em; }
     .product-actions .action-button { font-size: 0.8em; padding: 8px 10px; min-height: 36px;}
     .modal-content { width: 95%; }
     .modal-title { font-size: 1.2em; } .modal-price { font-size: 1.4em; }
     .modal-action-btn { font-size: 0.9em; padding: 10px; }
     .cart-dropdown { width: calc(100% - 20px); right: 10px; }
     .top-bar { font-size: 0.8em; text-align: center;}
     .main-menu > li > a { padding: 8px 10px; font-size: 0.85em; }
     .search-container select { max-width: 100px; font-size: 0.9em; }
     .search-container input[type="search"] { font-size: 0.9em; }
     .search-btn { padding: 0 12px; font-size: 0.9em; }
}

/* Prefiere reducción de movimiento si el usuario lo solicita */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
